<!DOCTYPE html>
<html>

<head>
    <style>
        #input {
            border-style: solid;
            border-color: black;
            border-width: 2px;
            width:50%;
        }
    </style>

    <script>
        function getThing(num) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4) {
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            };
            xhr.open("GET", "http://localhost:8082/test/" + num, true);
            xhr.send();
        }
        function getSum(begin, end) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4) {
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            }
            xhr.open("GET", "http://localhost:8082/sum/" + begin + "/" + end);
            xhr.send();
        }

        function factorial(num) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4) {
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            }
            xhr.open("GET", "http://localhost:8082/factorial/" + num);
            xhr.send();
        }

        function geometric(num) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4) {
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            }
            xhr.open("GET", "http://localhost:8082/series/geometric/" + num);
            xhr.send();
        }

        function getE(num) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4) {
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            }
            xhr.open("GET", "http://localhost:8082/getNumber/e/" + num);
            xhr.send();
        }

        function getDer(func) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4) {
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = "Original: " + func + "<br>";
                    document.getElementById("response").innerHTML += "Derivative: " + respons;
                }
            }
            xhr.open("GET", "http://localhost:8082/get/derivative/" + func);
            xhr.send();
        }
        
        function getEncryption(s,order){
            if(s.length==0){
                document.getElementById("response").innerHTML = "What were ye gonne do with that empty string there, mate?";
                return;
            }else if (order.length==0 || order=="order"){
                document.getElementById("response").innerHTML = "You need to insert the order up there!";
                return;
            }
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if (this.readyState==4){
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            }
            xhr.open("GET","http://localhost:8082/Encrypt/"+s+"/"+order);
            xhr.send();
        }
        
        function getDecryption(num){
            if(num.length==0){
                document.getElementById("response").innerHTML = "I would enter a number in that field there, mate!";
                return;
            }
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if(this.readyState==4){
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            }
            xhr.open("GET","http://localhost:8082/Decrypt/"+num);
            xhr.send();
        }

        function getUnitConversion(){
            document.getElementById("input").hidden = true;
            document.getElementById("c-to-f").hidden = true;
            document.getElementById("f-to-c").hidden = true;
            document.getElementById("UnitConversionDiv").hidden = false;
            document.getElementById("response").innerHTML = "";
        }
        function backToInput(){
            document.getElementById("input").hidden = false;
            document.getElementById("UnitConversionDiv").hidden = true;
            document.getElementById("response").innerHTML = "";

        }
        function cTof(){
            document.getElementById("UnitConversionDiv").hidden = true;
            document.getElementById("c-to-f").hidden = false;
            document.getElementById("response").innerHTML = "";
        }
        function fToc(){
            document.getElementById("UnitConversionDiv").hidden = true;
            document.getElementById("f-to-c").hidden = false;
            document.getElementById("response").innerHTML = "";
        }

        function cTofCalculate(val){
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if(this.readyState==4){
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            }
            xhr.open("GET","http://localhost:8082/Units/ctof/"+val);
            xhr.send();
        }

        function fTocCalculate(val){
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if(this.readyState==4){
                    var respons = this.responseText;
                    document.getElementById("response").innerHTML = respons;
                }
            }
            xhr.open("GET","http://localhost:8082/Units/ftoc/"+val);
            xhr.send();
        }
    </script>
</head>

<body>
    <div id="input">
        <input type="text" id="begin"> <input type="text" id="end">
        <button id="naturalNumbersSum" onclick="getSum(begin.value,end.value)">Sum</button><br>
        <input type="text" id="factorialInput"> <button id="factorialButton"
            onclick="factorial(factorialInput.value)">Factorial</button><br>
        <input type="text" id="geometricInput"> <button id="geometricButton"
            onclick="geometric(geometricInput.value)">Geometric series</button>(1+x+x^2+x^3+...)<br>
        <input type="text" id="eInput"><button id="ebutton" onclick="getE(eInput.value)">get e</button><br>
        <input type="text" id="derInput"><button id="derbutton" onclick="getDer(derInput.value)">get derivative</button><br>
        <input type="text" value="string" id="encInput"><input type="text" value="order" id="encOrder"><button id="encButton" onclick="getEncryption(encInput.value,encOrder.value)">get encryption</button><br>
        <input type="text" id="decInput"><button id="decButton" onclick="getDecryption(decInput.value)">get decryption</button><br>
        <button id="ToUnitConv" onclick="getUnitConversion()">Unit conversions</button>
    </div>
    <div id="UnitConversionDiv" hidden>
        <button id="backButton" onclick="backToInput()">Back</button><br>
        <button id="C-to-F" onclick="cTof()">Celcius to Fahrenheit</button> <button onclick="fToc()">Fahrenheit to Celcius</button>
    </div>
    <div id="c-to-f" hidden>
        Celcius to Fahrenheit calculation<br>
        <button onclick="getUnitConversion()">Back</button><br>
        <input type="text" id="celciusInput"><button onclick="cTofCalculate(celciusInput.value)">Calculate</button>
    </div>
    <div id="f-to-c" hidden>
        Fahrenheit to Celcius calculation<br>
        <button onclick="getUnitConversion()">Back</button><br>
        <input type="text" id="fahrenheitInput"><button onclick="fTocCalculate(fahrenheitInput.value)">Calculate</button>
    </div>
    <br>
    <div id="response"></div>
</body>

</html>
